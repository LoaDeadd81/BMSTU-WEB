path:
  /comments/{id}:
    put:
      tags:
        - comment
      summary: Update comment
      operationId: updateComment
      requestBody:
        $ref: "#/components/requestBodies/put"
        required: true
      responses:
        204:
          $ref: "status.yml#/components/responses/204"
        400:
          $ref: "status.yml#/components/responses/400"
        404:
          $ref: "status.yml#/components/responses/404"
        500:
          $ref: "status.yml#/components/responses/500"

    delete:
      tags:
        - comment
      summary: Dlete comment
      operationId: deleteComment
      responses:
        204:
          $ref: "status.yml#/components/responses/204"
        404:
          $ref: "status.yml#/components/responses/404"
        500:
          $ref: "status.yml#/components/responses/500"
    
    patch:
      tags:
        - comment
      summary: Update text
      operationId: patchComment
      requestBody:
        $ref: "#/components/requestBodies/patch"
        required: true
      responses:
        200:
          $ref: "#/components/responses/200Patch"
        404:
          $ref: "status.yml#/components/responses/404"
        500:
          $ref: "status.yml#/components/responses/500"

    parameters:
        - $ref: "parameters.yml#/components/parameters/id"

components:
  schemas:
    createComment:
      type: object
      properties:
        text:
          type: string
          example: "text"

    getComment:
      type: object
      properties:
        id:
          type: integer
          format: int64
          minimum: 1
          example: 1
        date:
          type: string
          format: date-time
          example: "2017-07-21 17:32:28"
        text:
          type: string
          example: "text"
        user:
          $ref: "user.yml#/components/schemas/getUser"

    updateComment:
      type: object
      properties:
        date:
          type: string
          format: date-time
          example: "2017-07-21 17:32:28"
        text:
          type: string
          example: "text"
        user_id:
          type: integer
          format: int64
          minimum: 1
          example: 1

    patchComment:
      type: object
      properties:
        text:
          type: string
          example: "text"


  requestBodies:
    put:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/updateComment"
    
    patch:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/patchComment"


  responses:
     200Patch:
      description: Successful operation
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/getComment"